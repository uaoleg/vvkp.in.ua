<html>
    <head>
        <meta charset="utf-8" />
        <meta property="og:url" content="http://vvkp.in.ua/" />
        <meta property="og:image" content="http://vvkp.in.ua/img/rada.jpg" />
        <meta property="og:title" content="Всеукраїнський Вебсайт Контролю Політиків" />
        <meta property="og:description" content="Мета проекту - візуалізація діяльності народних депутатів і політичних партій по найбільш знакових та резонансних законах. Це неодмінно допоможе кожному з нас в очищенні влади на чергових виборах." />
        <title>Всеукраїнський Вебсайт Контролю Політиків</title>
        <link rel="shortcut icon" href="img/icon.ico">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ng-tags-input/3.0.0/ng-tags-input.min.css"/>
        <script type="text/javascript">
            if (['dev.vvkp.in.ua', 'vvkp.in.ua', 'zrada.today', 'peremoga.today'].indexOf(document.domain) !== -1) {
                MIN = '.min';
            } else {
                MIN = '';
            }
            function headAppendScript(src, attrs) {
                var head = document.getElementsByTagName('head')[0];
                var js = document.createElement('script');
                js.type = 'text/javascript';
                if (src.indexOf('://') !== -1) {
                    js.src = src;
                } else {
                    js.src = src.replace('.js', MIN + '.js') + '?vvkp-version-1.5.2';
                }
                if (typeof attrs === 'object') {
                    for (var attrName in attrs) {
                        js[attrName] = attrs[attrName];
                    };
                }
                head.appendChild(js);
            }
            function headAppendStyle(href) {
                var head = document.getElementsByTagName('head')[0];
                var link = document.createElement('link');
                link.rel = 'stylesheet';
                if (href.indexOf('://') !== -1) {
                    link.href = href;
                } else {
                    link.href = href.replace('.css', MIN + '.css') + '?vvkp-version-1.5.2';
                }
                head.appendChild(link);
            }
            headAppendStyle('css/bootstrap-theme-paper.css');
            headAppendStyle('css/styles.css');
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.2/angular.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.13.1/ui-bootstrap-tpls.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ng-tags-input/3.0.0/ng-tags-input.min.js"></script>
    </head>
    <body ng-controller="deputiesListCtrl">
        <div class="container">
            <div class="row">
                <div class="col-md-8">
                    <h1 style="font-size: 42px; text-align: center;">Універсальний передвиборчий каталог депутатів</h1>
                    <br>
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <td>
                                    <div class="form-group SearchBar"
                                         sticky-elm
                                         sticky-class="SearchBar--sticky">
                                        <tags-input on-tag-added="searchReloadResults()"
                                                    on-tag-removed="searchReloadResults()"
                                                    replace-spaces-with-dashes="false"
                                                    add-on-comma="false"
                                                    display-property="name"
                                                    key-property="name"
                                                    ng-model="searchTags"
                                                    placeholder="Партія, Округ, Тег або Прізвище">
                                            <auto-complete
                                                source="searchLoadSuggestions($query)"
                                                min-length="0"
                                                load-on-focus="false"
                                                load-on-empty="false"
                                                select-first-match="true"
                                                max-results-to-show="100"
                                                template="template/search/suggestions.html?vvkp-version-1.5.2"></auto-complete>
                                        </tags-input>
                                    </div>
                                </td>
                            </tr>
                        </thead>
                    </table>
                    <table class="table table-striped" ng-cloak>
                        <tbody style="{{searchedDeputiesFiltering ? 'opacity: 0.5' : ''}}">
                            <tr>
                                <td colspan="5">
                                    <b style="display: inline-block; height: 28px; vertical-align: middle;">
                                        Знайдено депутатів: {{searchedDeputies.length}}
                                    </b>
                                    <button ng-if="searchStats.parties.length || searchStats.lawTags.length"
                                            popover-template="'template/search/stats.html?vvkp-version-1.5.2'"
                                            popover-placement="bottom"
                                            popover-trigger="click"
                                            class="btn btn-default btn-xs"
                                            style="margin-left: 10px;"
                                    >
                                        <span class="glyphicon glyphicon-stats"></span>
                                        <b>Статистика</b>
                                    </button>
                                </td>
                            </tr>
                            <tr ng-repeat="deputy in searchedDeputies | filter:searchText | limitTo:searchedDeputiesLimit"
                                class="deputy-row">
                                <td style="height: 84px; text-align: center; vertical-align: middle; width: 60px;">
                                    <div ng-click="deputyPage(deputy)"
                                         class="img-deputy-{{deputy.id}}"
                                         style="cursor: pointer;"></div>
                                    <img ng-src="img/parties/100x35/{{deputy.party}}.png"
                                         class="deputy-party fading"
                                         ng-if="deputy.party"
                                         ng-click="searchAddTag(deputy.party)">
                                </td>
                                <td>
                                    <h4 ng-click="deputyPage(deputy)" style="cursor: pointer; display: inline-block; margin: 10px 0 0;">
                                        {{deputy.name}}
                                    </h4>
                                    <table class="deputy-info">
                                        <tr style="vertical-align: middle;">
                                            <td><span class="glyphicon glyphicon-globe" tooltip="Офіційна веб-сторінка" tooltip-placement="left" tooltip-popup-delay="1000"></span></td>
                                            <td>
                                                <a href="http://itd.rada.gov.ua/mps/info/page/{{deputy.id}}" target="_blank">
                                                    Верховна Рада</a><span ng-if="deputy.facebook">,</span>
                                                <img src="img/icon/facebook-16.png"
                                                     ng-if="deputy.facebook"
                                                     tooltip="Персональна веб-сторінка" tooltip-placement="left" tooltip-popup-delay="1000"
                                                     style="margin: -4px 0 0 5px; opacity: 0.4;">
                                                <a href="{{deputy.facebook}}" target="_blank" ng-if="deputy.facebook">
                                                    Facebook</a>
                                            </td>
                                        </tr>
                                        <tr ng-if="deputy.phones.length">
                                            <td><span class="glyphicon glyphicon-earphone" tooltip="Контактні телефони" tooltip-placement="left" tooltip-popup-delay="1000"></span></td>
                                            <td>
                                                <small ng-repeat="phone in deputy.phones">{{deputy.phones[0]}}{{$last ? '' : ', '}}</small>
                                            </td>
                                        </tr>
                                        <tr ng-if="deputy.district">
                                            <td><span class="glyphicon glyphicon-check" tooltip="Виборчий округ" tooltip-placement="left" tooltip-popup-delay="1000"></span></td>
                                            <td><small>Округ №{{deputy.district.id}}, {{deputy.district.region}}</small></td>
                                        </tr>
                                    </table>
                                </td>
                                <td style="text-align: right; vertical-align: middle;">
                                    <div ng-repeat="lawTagName in deputy.lawTags"
                                         ng-if="isDeputyLawTagRateBigger(deputy, lawTagName)"
                                         ng-init="lawTag = getLawTag(lawTagName)">
                                        <table><tr>
                                            <td style="padding: 0 10px 8px 0;">
                                                <div class="deputy-tag-about">
                                                    <span popover-template="'template/deputy/tag-about.html?vvkp-version-1.5.2'"
                                                          popover-placement="left"
                                                          popover-trigger="click"
                                                          class="glyphicon glyphicon-info-sign fading"
                                                          style="cursor: pointer;"></span>
                                                </div>
                                            </td>
                                            <td>
                                                <div ng-click="searchAddTag(lawTag.name)"
                                                     class="deputy-tag progress progress-text-centered"
                                                     style="font-weight: bold; height: 19px; margin: 0 0 10px;">
                                                    <div role="progressbar" aria-valuenow="{{deputy.lawTagsInfo[lawTag.name].rate}}" aria-valuemin="0" aria-valuemax="100"
                                                         class="progress-bar progress-bar-success"
                                                         style="width: {{lawTag.type == 'success' ? deputy.lawTagsInfo[lawTag.name].rate : 100-deputy.lawTagsInfo[lawTag.name].rate}}%;">
                                                        <span>{{lawTag.name}}</span>
                                                    </div>
                                                    <div role="progressbar" aria-valuenow="{{100-deputy.lawTagsInfo[lawTag.name].rate}}" aria-valuemin="0" aria-valuemax="100"
                                                         class="progress-bar progress-bar-danger"
                                                         style="width: {{lawTag.type == 'danger' ? deputy.lawTagsInfo[lawTag.name].rate : 100-deputy.lawTagsInfo[lawTag.name].rate}}%;">
                                                    </div>
                                                </div>
                                            </td>
                                        </tr></table>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <div ng-show="searchedDeputiesFiltering || searchedDeputiesIncreasingLimit" style="text-align: center;">
                        <img ng-src="img/loading.gif">
                    </div>
                    <br>
                    <hr>
                    <br>
                    <h3 style="background-image: url(img/logo.png); line-height: 60px; margin: 0; text-align: center;">
                        <a href="https://www.youtube.com/watch?v=1CLBANCVHTw" target="_blank" style="color: white; font-size: 42px; text-shadow: 2px 2px 4px black;">VVKP :-)</a>
                    </h3>
                </div>
                <div class="col-md-3" style="padding-top: 25px; text-align: center;">
                    <a class="github-button" href="https://github.com/uaoleg/vvkp.in.ua" data-style="mega" data-count-href="/uaoleg/vvkp.in.ua/stargazers" data-count-api="/repos/uaoleg/vvkp.in.ua#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star uaoleg/vvkp.in.ua on GitHub">Star</a>
                    <br><br>
                    <div class="fb-page" data-href="https://www.facebook.com/vvkp.in.ua" data-width="400" data-small-header="false" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true" data-show-posts="false"><div class="fb-xfbml-parse-ignore"><blockquote cite="https://www.facebook.com/vvkp.in.ua"><a href="https://www.facebook.com/vvkp.in.ua">VVKP</a></blockquote></div></div>
                </div>
            </div>
        </div>

        <div id="fb-root"></div>

        <script type="text/javascript">
            headAppendScript('js/app.js');
            setTimeout(function() {
                angular.element(document).ready(function() {
                  angular.bootstrap(document, ['vvkp-app']);
                });
            });
        </script>

    </body>
</html>